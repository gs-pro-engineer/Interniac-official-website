<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>tests.py</title>
  <link rel="stylesheet" href="../pycco.css">
</head>

<body>
  <div id='container'>
    <div id="background"></div>
    <div class='section'>
      <div class='docs'>
        <h1>tests.py</h1>
      </div>
    </div>
    <div class='clearall'>
      <div class='section' id='section-0'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">timezone</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">reverse</span>
<span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ObjectDoesNotExist</span>

<span class="kn">from</span> <span class="nn">accounts.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">marketplace.models</span> <span class="kn">import</span> <span class="n">Listing</span><span class="p">,</span> <span class="n">Career</span>
<span class="kn">from</span> <span class="nn">mixins.init_accounts</span> <span class="kn">import</span> <span class="n">InitAccountsMixin</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-1'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-1'>#</a>
          </div>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre><span class="k">class</span> <span class="nc">ApplicationsTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">,</span> <span class="n">InitAccountsMixin</span><span class="p">):</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-2'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-2'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-3'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-3'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpTestData</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_up</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">rand_employer</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_new_employer</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">listing</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">create_listing</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">profile</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">profile</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">}),</span>
                                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_listing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Listing</span><span class="p">:</span>
        <span class="n">career</span> <span class="o">=</span> <span class="n">Career</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">career</span><span class="o">=</span><span class="s1">&#39;some career&#39;</span><span class="p">)</span>
        <span class="n">career</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Listing</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;some listing&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Unpaid&#39;</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="s1">&#39;Virtual&#39;</span><span class="p">,</span>
                                      <span class="n">career</span><span class="o">=</span><span class="n">career</span><span class="p">,</span> <span class="n">application_deadline</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;description&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_login_redirected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">login_apply_out</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">create_rand_listing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Listing</span><span class="p">:</span>
        <span class="n">career</span> <span class="o">=</span> <span class="n">Career</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">career</span><span class="o">=</span><span class="s1">&#39;New career&#39;</span><span class="p">)</span>
        <span class="n">career</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Listing</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">company</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;some listing&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Unpaid&#39;</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="s1">&#39;Virtual&#39;</span><span class="p">,</span>
                                      <span class="n">career</span><span class="o">=</span><span class="n">career</span><span class="p">,</span> <span class="n">application_deadline</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;description&#39;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">create_new_employer</span><span class="p">():</span>
        <span class="n">new_employer</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s1">&#39;rand@gmail.com&#39;</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">,</span>
                                                <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                                                <span class="n">is_student</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">new_employer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_employer</span>

    <span class="k">def</span> <span class="nf">accept_student</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;accept&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span>

    <span class="k">def</span> <span class="nf">reject_student</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;reject&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span>

    <span class="k">def</span> <span class="nf">confirm_acceptance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;confirm_acceptance&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
                       <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">decline_acceptance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;decline_acceptance&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
                       <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-4'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-4'>#</a>
          </div>
          <p>login as student and apply then logout
            login as employer and accept student
            login as student</p>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">apply_accept_login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-5'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-5'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_applications_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;applications&#39;</span><span class="p">))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-6'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-6'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_applications</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;applications&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-7'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-7'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_applications</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;applications&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-8'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-8'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_archive_interview_request_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_interview_request&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-9'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-9'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_archive_archive_interview_request</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_interview_request&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_interview_requests</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-10'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-10'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_rand_employer_archive_interview_request</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_interview_request&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-11'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-11'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_archive_archive_interview_request</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_interview_request&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_interview_requests</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-12'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-12'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_archive_rejected_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_rejected&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-13'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-13'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_archive_rejected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_rejected&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_rejections</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-14'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-14'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_rand_employer_archive_rejected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_rejected&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-15'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-15'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_archive_rejected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_rejected&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_rejections</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-16'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-16'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_archive_accepted_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_accepted&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-17'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-17'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_archive_accepted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_accepted&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-18'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-18'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_rand_employer_archive_accepted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_accepted&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-19'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-19'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_archive_accepted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;archive_accepted&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-20'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-20'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_view_interview_requests_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;rejections&#39;</span><span class="p">))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-21'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-21'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_view_interview_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;interview_requests&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-22'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-22'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_view_interview_requests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;interview_requests&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-23'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-23'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_view_rejections_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;rejections&#39;</span><span class="p">))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-24'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-24'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_view_rejections</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;rejections&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-25'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-25'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_view_rejections</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;rejections&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-26'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-26'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_view_acceptances_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;acceptances&#39;</span><span class="p">))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-27'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-27'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_view_acceptances</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;acceptances&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-28'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-28'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_view_acceptances</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;acceptances&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-29'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-29'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_application_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;single_application&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s1">&#39;user_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">slug</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-30'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-30'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_view_application</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;single_application&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s1">&#39;user_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">slug</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-31'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-31'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_rand_employer_view_application</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_employer</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;single_application&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s1">&#39;user_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">slug</span>
        <span class="p">})</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-32'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-32'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_view_application</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;single_application&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span>
            <span class="s1">&#39;user_slug&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">slug</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-33'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-33'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_random_employer_request_interview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rand_employer</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;request_interview&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-34'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-34'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_request_interview_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;request_interview&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-35'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-35'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_request_interview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;request_interview&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">interview_requests</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-36'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-36'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_request_interview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;request_interview&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-37'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-37'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_reject_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;reject&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-38'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-38'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_reject</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reject_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_rejections</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_rejections</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">rejections</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-39'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-39'>#</a>
          </div>
          <p>try to reject a student as a student</p>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_reject</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reject_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-40'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-40'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_accept_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;accept&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-41'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-41'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_confirm_acceptance_not_accepted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="n">new_listing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rand_listing</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">id</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-42'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-42'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_confirm_acceptance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">403</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-43'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-43'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_no_auth_confirm_acceptance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">403</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-44'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-44'>#</a>
          </div>
          <p>test that previous awaiting acceptances will be withdrawn upon accepting an internship</p>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_withdraw_awaiting_acceptances</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">new_listing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rand_listing</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">id</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;accept&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span>
        <span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">awaiting_confirm_acceptance</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-45'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-45'>#</a>
          </div>
          <p>test that previous applications will be withdrawn upon accepting an internship</p>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_withdraw_application</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">new_listing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rand_listing</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">id</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-46'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-46'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_decline_acceptance_not_accepted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="n">new_listing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rand_listing</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">id</span><span class="p">}))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="n">new_listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decline_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-47'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-47'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_decline</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">decline_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">302</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">awaiting_confirm_acceptance</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-48'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-48'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_confirm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_accept_login</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">confirm_acceptance</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">302</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">employer_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">student_acceptances</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">awaiting_confirm_acceptance</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-49'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-49'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">student</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">awaiting_confirm_acceptance</span><span class="o">.</span><span class="n">all</span><span class="p">())</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-50'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-50'>#</a>
          </div>
          <p>try to accept a student as a student</p>
        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login_apply_out</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">accept_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-51'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-51'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_unapply_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;unapply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-52'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-52'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_unapply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;unapply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ObjectDoesNotExist</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-53'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-53'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_unapply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;unapply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-54'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-54'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_apply_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">}))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-55'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-55'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_student_apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">applications</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">id</span><span class="p">))</span></pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
      <div class='section' id='section-56'>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-56'>#</a>
          </div>

        </div>
        <div class='code'>
          <div class="highlight">
            <pre>    <span class="k">def</span> <span class="nf">test_employer_apply</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;apply&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;listing_id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">listing</span><span class="o">.</span><span class="n">id</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span>

</pre>
          </div>
        </div>
      </div>
      <div class='clearall'></div>
    </div>
</body>