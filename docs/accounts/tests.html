<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>tests.py</title>
    <link rel="stylesheet" href="../pycco.css">
</head>

<body>
    <div id='container'>
        <div id="background"></div>
        <div class='section'>
            <div class='docs'>
                <h1>tests.py</h1>
            </div>
        </div>
        <div class='clearall'>
            <div class='section' id='section-0'>
                <div class='docs'>
                    <div class='octowrap'>
                        <a class='octothorpe' href='#section-0'>#</a>
                    </div>
                    <p>Tests for the accounts application</p>
                </div>
                <div class='code'>
                    <div class="highlight">
                        <pre><span></span><span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ValidationError</span>
<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">IntegrityError</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">RequestFactory</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>
<span class="kn">from</span> <span class="nn">django.core.exceptions</span> <span class="kn">import</span> <span class="n">ObjectDoesNotExist</span>

<span class="kn">from</span> <span class="nn">mixins.init_accounts</span> <span class="kn">import</span> <span class="n">InitAccountsMixin</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="o">*</span></pre>
                    </div>
                </div>
            </div>
            <div class='clearall'></div>
            <div class='section' id='section-1'>
                <div class='docs'>
                    <div class='octowrap'>
                        <a class='octothorpe' href='#section-1'>#</a>
                    </div>

                </div>
                <div class='code'>
                    <div class="highlight">
                        <pre></pre>
                    </div>
                </div>
            </div>
            <div class='clearall'></div>
            <div class='section' id='section-2'>
                <div class='docs'>
                    <div class='octowrap'>
                        <a class='octothorpe' href='#section-2'>#</a>
                    </div>
                </div>
                <div class='code'>
                    <div class="highlight">
                        <pre><span class="k">class</span> <span class="nc">UserTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">,</span> <span class="n">InitAccountsMixin</span><span class="p">):</span></pre>
                    </div>
                </div>
            </div>
            <div class='clearall'></div>
            <div class='section' id='section-3'>
                <div class='docs'>
                    <div class='octowrap'>
                        <a class='octothorpe' href='#section-3'>#</a>
                    </div>

                </div>
                <div class='code'>
                    <div class="highlight">
                        <pre></pre>
                    </div>
                </div>
            </div>
            <div class='clearall'></div>
            <div class='section' id='section-4'>
                <div class='docs'>
                    <div class='octowrap'>
                        <a class='octothorpe' href='#section-4'>#</a>
                    </div>

                </div>
                <div class='code'>
                    <div class="highlight">
                        <pre>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpTestData</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_up</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">factory</span> <span class="o">=</span> <span class="n">RequestFactory</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">profile</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">profile</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">password</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_login_redirected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_unique_student_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_student</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s1">&#39;email@gmail.com&#39;</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span>
                                               <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">,</span>
                                               <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                                               <span class="n">is_student</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="nb">super</span><span class="p">(</span><span class="n">UserTestCase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">student_profile</span><span class="p">,</span> <span class="n">new_student</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                          <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">phone</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">IntegrityError</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span>
                          <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">,</span>
                          <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                          <span class="n">is_student</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_slug_student</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_student</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s1">&#39;email@gmail.com&#39;</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;name first&#39;</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;name last&#39;</span><span class="p">,</span>
                                               <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                                               <span class="n">is_student</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UserTestCase</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">student_profile</span><span class="p">(</span><span class="n">new_student</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;+12125552369&#39;</span><span class="p">)</span>
        <span class="n">new_student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">slug_student</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span> <span class="n">new_student</span><span class="o">.</span><span class="n">slug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_student</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span> <span class="s1">&#39;name-first-name-last&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_slug_employer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_employer</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s1">&#39;email@gmail.com&#39;</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">,</span>
                                               <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                                               <span class="n">is_student</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">new_employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_name</span> <span class="o">=</span> <span class="s1">&#39;company&#39;</span>
        <span class="n">new_employer</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">new_employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">slug_employer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertNotEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span> <span class="n">new_employer</span><span class="o">.</span><span class="n">slug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">new_employer</span><span class="o">.</span><span class="n">slug</span><span class="p">,</span> <span class="s1">&#39;company&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_existing_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">IntegrityError</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create_user</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="s1">&#39;test@gmail.com&#39;</span><span class="p">,</span> <span class="n">first_name</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span>
                          <span class="n">last_name</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">,</span>
                          <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
                          <span class="n">is_student</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">is_employer</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_delete_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_delete_employer_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">)</span>
        <span class="n">user_instance</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">employer_email</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user_instance</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user_instance</span><span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ObjectDoesNotExist</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">employer_email</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_delete_student_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">user_instance</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">student_email</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">user_instance</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">user_instance</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">),</span> <span class="n">follow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">request</span><span class="p">[</span><span class="s1">&#39;PATH_INFO&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ObjectDoesNotExist</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">student_email</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_listings_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;listings&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_listings_employer_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;listings&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_listings_student_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;listings&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">403</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_profile_login_redirect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_login_redirected</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">test_profile_employer_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_profile_student_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">context</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">email</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_employer_company_website</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_site</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_website</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_website</span><span class="p">,</span> <span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_website</span> <span class="o">=</span> <span class="s1">&#39;not a website&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_website</span> <span class="o">=</span> <span class="n">old_site</span>

    <span class="k">def</span> <span class="nf">test_employer_company_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_name</span><span class="p">,</span> <span class="s1">&#39;some company&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">EmployerProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;company_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_employer_profile_attached</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_expected_employer_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">employer_profile</span><span class="o">.</span><span class="n">company_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_link_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link4</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link4</span> <span class="o">=</span> <span class="s1">&#39;broken link&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link4</span> <span class="o">=</span> <span class="n">old_link</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link4&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link4&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_link_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link3</span><span class="p">,</span> <span class="s1">&#39;http://www.duckduckgo.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link3</span> <span class="o">=</span> <span class="s1">&#39;broken link&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link3</span> <span class="o">=</span> <span class="n">old_link</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_link_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link2</span><span class="p">,</span> <span class="s1">&#39;http://www.yahoo.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link2</span> <span class="o">=</span> <span class="s1">&#39;broken link&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link2</span> <span class="o">=</span> <span class="n">old_link</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_link_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link1</span><span class="p">,</span> <span class="s1">&#39;http://www.google.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link1</span> <span class="o">=</span> <span class="s1">&#39;broken link&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">link1</span> <span class="o">=</span> <span class="n">old_link</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;link1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_leadership_roles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">leadership_roles</span><span class="p">,</span> <span class="s1">&#39;leadership stuff&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;leadership_roles&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;leadership_roles&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_skills</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">skills</span><span class="p">,</span> <span class="s1">&#39;lots of super cool skills&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;skills&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;skills&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_extracurriculars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">extracurriculars</span><span class="p">,</span> <span class="s1">&#39;some extracurriculars&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;extracurriculars&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;extracurriculars&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_volunteering_exp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">volunteering_exp</span><span class="p">,</span> <span class="s1">&#39;some volunteer experience&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;volunteering_exp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;volunteering_exp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_work_exp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">work_exp</span><span class="p">,</span> <span class="s1">&#39;some work experience&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;work_exp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;work_exp&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_awards_achievements</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">awards_achievements</span><span class="p">,</span> <span class="s1">&#39;some awards&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;awards_achievements&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;awards_achievements&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_teacher_or_counselor_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">teacher_or_counselor_name</span><span class="p">,</span> <span class="s1">&#39;teacher teacher&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;teacher_or_counselor_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;teacher_or_counselor_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;teacher_or_counselor_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_teacher_or_counselor_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_email</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">teacher_or_counselor_email</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">teacher_or_counselor_email</span><span class="p">,</span> <span class="s1">&#39;teacher@gmail.com&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">teacher_or_counselor_email</span> <span class="o">=</span> <span class="s1">&#39;not an email&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">teacher_or_counselor_email</span> <span class="o">=</span> <span class="n">old_email</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;teacher_or_counselor_email&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;teacher_or_counselor_email&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_hs_addy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">hs_addy</span><span class="p">,</span> <span class="s1">&#39;123 random st&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs_addy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs_addy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs_addy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_hs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">hs</span><span class="p">,</span> <span class="s1">&#39;humberside&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max_length</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;hs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_dob</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">prev_dob</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">dob</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">dob</span><span class="p">,</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">dob</span> <span class="o">=</span> <span class="s1">&#39;invalid date&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">dob</span> <span class="o">=</span> <span class="n">prev_dob</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;dob&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">email</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="p">),</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_profile_attached</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_student_phone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">old_phone</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">phone</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">phone</span><span class="p">,</span> <span class="s1">&#39;+12125552368&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">phone</span> <span class="o">=</span> <span class="s1">&#39;not a phone number&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">full_clean</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">phone</span> <span class="o">=</span> <span class="n">old_phone</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">StudentProfile</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_user_first_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_user_last_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_user_is_student</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">is_student</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">is_student</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;is_student&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_user_is_employer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">is_employer</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">is_employer</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;is_employer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_user_profile_picture</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">student</span><span class="o">.</span><span class="n">profile_picture</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;profile_pictures/default.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">employer</span><span class="o">.</span><span class="n">profile_picture</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;profile_pictures/default.png&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;profile_picture&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">null</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;profile_picture&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">blank</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s1">&#39;profile_pictures&#39;</span><span class="p">,</span> <span class="n">User</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s1">&#39;profile_picture&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">upload_to</span><span class="p">)</span>

</pre>
                    </div>
                </div>
            </div>
            <div class='clearall'></div>
        </div>
</body>